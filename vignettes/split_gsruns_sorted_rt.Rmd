---
title: "Split gsRuns According To Predicted Runtimes"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Split gsRuns According To Predicted Runtimes}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(qgert)
```

## Usage
The split of the gsRuns can be done using the following shell script

```{bash, eval=FALSE}

```



## Purpose - Why This Is Done
Estimation of marker effects and reliability prediction is a resource intensive step during the routine genetic evaluation. Hence all these estimation tasks must be parallelized. Given a list (gsRuns-list) of computation jobs that are combinations of breeds, evaluation type, trait and parameter type, this list is to be split into a number of smaller lists. 

As an additional requirement, the produced number of lists should contain the jobs sorted according to their predicted running time from a previous evaluation.


## Description - How This Is Done
Given a directory where the logfiles of the previous evaluation is archived (or just a simple run-label such as 1908), the logfiles are searched for the predicted running time of the respective estimation job. This information is written to an outputfile. The outputfile is read into R where the records are sorted according to their running times. After the sort, a specified number of job-files is written. These files have the name-prefix `gsSortedRuns.txt` followed by a number. 

To prepare the binary version of the SNP-Data one gsRun-job per breed is written to the file `gsRuns.txt.snpBin`. All jobs that are contained in `gsRuns.txt.snpBin` are also in the `gsSortedRuns.txt`-files. 
